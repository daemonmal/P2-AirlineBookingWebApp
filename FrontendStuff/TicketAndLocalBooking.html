<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cab And Car</title>

    <!--google version of api, use jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> 
    <link rel="stylesheet" href="TicketAndLocalBooking.css"/>

    <script> 
        $(document).ready(function(){ 
            $(function(){
                $("#footer").load("footer.html"); 
                $("#header").load("header.html"); 
                GetCars();
                DisplayObjects();
            });
        })
    </script>


<script>
  class Getcars {
      constructor(carId, agencyId, carModel, carPrice) {
          this.carId = carId;
          this.agencyId = agencyId;
          this.carModel = carModel;
          this.carPrice = carPrice;
  
      }
  } 

  var array = [ ];

  function Testing()
  {
    var testingcar = new Getcars(100, 100, "model", 100);
    var testingcar2 = new Getcars(100, 100, "model2", 100);
    array.push(testingcar);
    array.push(testingcar2);
  }
  
      function GetCars()
      {
          console.log('Call Started');
  
          fetch('https://localhost:7079/api/Cars').then(res => res.json())
                                                      .then(result => {
                                                          console.log('inside try');
                                                          console.log(result);
                                                          for (i = 0; i < result.length; i++) {
                                                              var testingcar = new Getcars(
                                                                  result[i].carId, result[i].agencyId, result[i].carModel, result[i].carPrice);
                                                              
                                                              array.push(testingcar);
                                                          }
             
                                                      })
                                                      .catch(err => {
                                                          console.log(err);
                                                      })
      }
  
      function OverallFunction() {
          GetCars();
      }


      function DisplayObjects() {

          for(var i = 0; i < array.length; i++)
          {
            var element = document.getElementById("big-box-middle");

            var div = document.createElement('div');
            div.className = 'card mb-5 class-unique-style';


            var div2 = document.createElement('div');
            div2.className = "card-body p-4";
            div.appendChild(div2);

            var h3 = document.createElement("h3");
            h3.innerHTML = "Rental Car Data";
            h3.className = "mb-3";
            div2.appendChild(h3);

            var p1 = document.createElement("p");
            p1.className = "small mb-0";
            h3.appendChild(p1);

            var span = document.createElement("span");
            span.className = "mx-2";
            span.innerHTML = "agency: " + array[i].agencyId + "\n" + "Car Model: " + array[i].carModel + "\n" + "Car Price: " + array[i].carPrice;
            p1.appendChild(span);

            div3 = document.createElement('div');
            div3.className = "d-flex justify-content-start align-items-center";
            div.appendChild(div3);

            button1 = document.createElement('button');
            button1.className = "btn btn-primary text-uppercase";
            button1.innerHTML = "rent this car";
            //button1.onclick = DisplayObjects();
            
            div3.appendChild(button1);

            element.appendChild(div);
          }
        
    }
  
  
  </script>
  
  <style>
    .big-box-1
{
    position: relative;
    top: 10%;
    left: 15%;
    right: 15%;
    bottom: 10%;

    height: 80%;
    width: 70%;
    background-color: azure;
    border-radius: 15px;
}
    .part-2
    {
        height: 100vh;
        width: 100%;
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        text-align: center;
        background: linear-gradient( rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3) ),url(Images/hd-wallpaper-3625405.jpg);
        -webkit-background-size: cover;
        background-size: cover;
    }

    .class-unique-style
{
    border-radius: 15px; height: 200px; width: 100%;
}
  </style>

</head>
<body>
  <div id = "header"></div>

  <div style="height: 10%;">
  
  </div>

  <section class="banner-1">
      <section class="container-md container-fluid" id="container1">
          <div class="home">
            <h1>Transportation at Location</h1>
            <p class = "subtextHome">Rentals, Taxis, and Public Transportation for Easy Travels</p>
      
            <div class="d-flex justify-content-center">
              <div class="card m-3 p-2">
                <img class="card-img-top" src="Images/bag-shopping-solid.svg" alt="Card image cap">
              <br>
                <span class="card-font"> CHECKOUT DATE </span>
                <input type="datetime-local" class="card-font" placeholder="MM/DD/YYYY">
              </div>

              <div class="card m-3 p-2">
              <img class="card-img-top" src="Images/arrow-rotate-left-solid.svg" alt="Card image cap">
                <br>
                <span class="card-font">RETURN DATE</span> 
                <input class="card-font" type="datetime-local" placeholder="MM/DD/YYYY">
              </div>

              <div class="card m-3 p-2 ">
              <img class="card-img-top" src="Images/city-solid.svg" alt="Card image cap">
                <br>
                <span class="card-font">CITY TO RENT FROM</span> 
                <input class="card-font" type="text" placeholder="New York">
              </div>

              <div class="card m-3 p-2">
                  <img class="card-img-top" src="Images/train-subway-solid.svg" alt="Card image cap">
                  <br>
                  <span class="card-font">PICKUP LOCATION</span> 
                  <input class="card-font" type="number" name="quantity" min="1" placeholder="1">
                </div>

              <div class="card m-3 p-2">
                  <img class="card-img-top" src="Images/check-double-solid.svg" alt="Card image cap">
                  <br>
                  <span class="card-font">TYPE OF TRANSPORTATION</span> 
                  <select class="card-font form-select" id = "selection-plane-type" title="plane-type">
                      <option class="card-font" value = "economy">Rental Car</option>
                      <option class="card-font" value = "business">Cab</option>
                      <option class="card-font" value = "firstClass">Public Transportation</option>
                  </select>
                </div>

              <div class="card m-3 p-2 justify-content-center">
                <button class="" type="button" onclick=""
                data-toggle="collapse" data-target="#part-2-collapse" aria-expanded="false" aria-controls="part-2-collapse">
                  <span class="card-font btn button-style" style="overflow-wrap: break-word;"> 
                    <h4 >Search For Transportation</h4>
                    <i class="fas fa-arrow-circle-right"></i>
                  </span>
                </button>

              </div>
            </div>
          </div>
        </section>
  </section>

  <section class = "part-2 " id = "part-2-collapse">
    <div class = "big-box-1" >
      <div class="big-box-middle justify-content-center align-items-center" id = "big-box-middle">


      </div>  
  </div>
    
</section>


  <div id = "footer"></div>
</body>
</html>